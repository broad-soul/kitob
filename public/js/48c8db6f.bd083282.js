(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["48c8db6f"],{"02fa":function(t,e,a){var o=a("268f"),n=a("e265"),r=a("a4bb"),s=a("c47a");function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},i=r(a);"function"===typeof n&&(i=i.concat(n(a).filter(function(t){return o(a,t).enumerable}))),i.forEach(function(e){s(t,e,a[e])})}return t}t.exports=i},"268f":function(t,e,a){t.exports=a("fde4")},"32a6":function(t,e,a){var o=a("241e"),n=a("c3a1");a("ce7e")("keys",function(){return function(t){return n(o(t))}})},"454f":function(t,e,a){a("46a7");var o=a("584a").Object;t.exports=function(t,e,a){return o.defineProperty(t,e,a)}},"46a7":function(t,e,a){var o=a("63b6");o(o.S+o.F*!a("8e60"),"Object",{defineProperty:a("d9f6").f})},"85f2":function(t,e,a){t.exports=a("454f")},"8aae":function(t,e,a){a("32a6"),t.exports=a("584a").Object.keys},"9e9a":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-scroll-area",{staticStyle:{height:"calc(100vh - 56px)"},attrs:{"thumb-style":t.getThumbStyle}},[a("q-page",{staticClass:"admin__page__authors"},[a("div",{staticClass:"q-pa-md"},[a("q-breadcrumbs",{attrs:{"active-color":"teal"}},[a("q-breadcrumbs-el",{attrs:{icon:"home",label:"Home",to:"/"}}),a("q-breadcrumbs-el",{attrs:{label:"Dashboard",to:"/admin"}}),a("q-breadcrumbs-el",{attrs:{label:"Authors"}})],1)],1),a("div",{staticClass:"q-pa-md q-gutter-y-md"},[a("q-btn",{attrs:{color:"secondary",to:"/admin/authors/create"}},[t._v("Add Author")]),a("q-card",[a("q-table",{staticClass:"admin__page__authors-table",attrs:{data:t.authors,columns:t.columns,"row-key":"id",bordered:"",loading:t.loading,title:"Authors"},scopedSlots:t._u([{key:"body",fn:function(e){return a("q-tr",{attrs:{id:e.id,props:e}},[a("q-td",{key:"name",attrs:{props:e}},[t._v(t._s(e.row.name))]),a("q-td",{key:"lastName",attrs:{props:e}},[t._v(t._s(e.row.lastName))]),a("q-td",{key:"cover",attrs:{props:e}},[a("q-img",{staticStyle:{height:"60px","max-width":"100px"},attrs:{ratio:16/9,src:e.row.cover,"placeholder-src":"/statics/photo2.png"}})],1),a("q-td",{key:"actions",attrs:{props:e}},[a("q-btn",{staticClass:"mx-2",attrs:{size:"12px",dense:"",round:"",flat:"",color:"warning",to:"/admin/authors/edit/"+e.row.id}},[a("q-icon",{attrs:{name:"edit"}}),a("q-tooltip",[t._v("Edit")])],1),a("q-btn",{attrs:{size:"12px",dense:"",round:"",flat:"",color:"negative"},on:{click:function(a){return t.deleteBook(e.row.id)}}},[a("q-icon",{attrs:{name:"delete_forever"}}),a("q-tooltip",[t._v("Delete")])],1)],1)],1)}}])})],1)],1)])],1)},n=[],r=(a("28a5"),a("02fa")),s=a.n(r),i=a("2f62"),c={name:"AuthorsShow",data:function(){return{loading:!1,count:1,columns:[{name:"name",align:"center",label:"Name",field:"name",sortable:!0},{name:"lastName",align:"center",label:"Last Name",field:"lastName",sortable:!0},{name:"cover",label:"Image",field:"cover"},{name:"actions",label:"Actions",field:"action"}],authors:[]}},computed:s()({},Object(i["c"])(["getToken","getLangPr","mobileDetect","getThumbStyle"])),beforeMount:function(){var t=this;this.$axios.get(this.getDomain+this.getLangPr.split("-")[0]+"/authors").then(function(e){t.authors=e.data})},mounted:function(){var t=this;this.$store.subscribe(function(e,a){switch(e.type){case"CHANGE_LANG":setTimeout(function(){t.$axios.get(t.domains+t.$t("lang_code")+"/authors").then(function(e){t.authors=e.data})},100);break}})},methods:{deleteBook:function(t){var e=this;this.$q.dialog({title:"Подтвердите",message:"Вы точно хотите удалить?",cancel:!0,persistent:!0}).onOk(function(){e.$axios.defaults.headers={"x-api-key":"18f057d42feadf59b4943b7fb4c064fcd626778f","x-session-token":e.getToken},e.$axios.delete(e.domains+e.$t("lang_code")+"/authors/"+t).then(function(){e.authors.forEach(function(a,o){if(a.id===t)return e.authors.splice(o,1)}),e.$q.notify({color:"teal",icon:"check_circle",message:"Deleted",position:"top",timeout:200})}).catch(function(){})})},view:function(t){this.$router.push("/authors/show/"+t)}}},u=c,l=a("2877"),f=Object(l["a"])(u,o,n,!1,null,"40d31418",null);e["default"]=f.exports},a4bb:function(t,e,a){t.exports=a("8aae")},bf90:function(t,e,a){var o=a("36c3"),n=a("bf0b").f;a("ce7e")("getOwnPropertyDescriptor",function(){return function(t,e){return n(o(t),e)}})},c47a:function(t,e,a){var o=a("85f2");function n(t,e,a){return e in t?o(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}t.exports=n},ce7e:function(t,e,a){var o=a("63b6"),n=a("584a"),r=a("294c");t.exports=function(t,e){var a=(n.Object||{})[t]||Object[t],s={};s[t]=e(a),o(o.S+o.F*r(function(){a(1)}),"Object",s)}},e265:function(t,e,a){t.exports=a("ed33")},ed33:function(t,e,a){a("014b"),t.exports=a("584a").Object.getOwnPropertySymbols},fde4:function(t,e,a){a("bf90");var o=a("584a").Object;t.exports=function(t,e){return o.getOwnPropertyDescriptor(t,e)}}}]);
