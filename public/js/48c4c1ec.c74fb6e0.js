(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["48c4c1ec"],{"02fa":function(e,t,n){var r=n("268f"),o=n("e265"),a=n("a4bb"),s=n("c47a");function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},c=a(n);"function"===typeof o&&(c=c.concat(o(n).filter(function(e){return r(n,e).enumerable}))),c.forEach(function(t){s(e,t,n[t])})}return e}e.exports=c},"0cec":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-scroll-area",{staticStyle:{height:"calc(100vh - 56px)"},attrs:{"thumb-style":e.getThumbStyle}},[n("q-page",{staticClass:"admin__page__genres"},[n("div",{staticClass:"q-pa-md"},[n("q-breadcrumbs",{attrs:{"active-color":"teal"}},[n("q-breadcrumbs-el",{attrs:{icon:"home",label:"Home",to:"/"}}),n("q-breadcrumbs-el",{attrs:{label:"Dashboard",to:"/admin"}}),n("q-breadcrumbs-el",{attrs:{label:"Genres"}})],1)],1),n("div",{staticClass:"q-pa-md q-gutter-y-md"},[n("div",{staticClass:"q-gutter-x-md"},[n("q-btn",{attrs:{color:"secondary",to:"/admin/genres/create"}},[e._v("Add Genre")]),n("q-btn",{attrs:{color:"secondary",to:"/admin/genres/subgenres/create"}},[e._v("Add Subgenre")])],1),n("q-card",[n("q-table",{staticClass:"admin__page__genres-table",attrs:{data:e.genres,columns:e.columns,"row-key":"id",bordered:"",loading:e.loading,title:"Genres"},scopedSlots:e._u([{key:"body",fn:function(t){return n("q-tr",{attrs:{id:t.id,props:t}},[n("q-td",{key:"name",attrs:{props:t}},[e._v(e._s(t.row.name))]),n("q-td",{key:"cover",attrs:{props:t}},[n("q-img",{staticStyle:{"max-width":"50px"},attrs:{src:t.row.cover,"placeholder-src":"/statics/photo2.png"}})],1),n("q-td",{key:"actions",attrs:{props:t}},[n("q-btn",{staticClass:"ml-auto",attrs:{size:"12px",dense:"",round:"",flat:"",color:"info"},on:{click:function(n){return e.view(t.row.id)}}},[n("q-icon",{attrs:{name:"remove_red_eye"}}),n("q-tooltip",[e._v("Views children")])],1),n("q-btn",{staticClass:"mx-2",attrs:{size:"12px",dense:"",round:"",flat:"",color:"warning",to:"/admin/genres/edit/"+t.row.id}},[n("q-icon",{attrs:{name:"edit"}}),n("q-tooltip",[e._v("Edit")])],1),n("q-btn",{attrs:{size:"12px",dense:"",round:"",flat:"",color:"negative"},on:{click:function(n){return e.deleteGenres(t.row.id)}}},[n("q-icon",{attrs:{name:"delete_forever"}}),n("q-tooltip",[e._v("Delete")])],1)],1)],1)}}])})],1)],1)])],1)},o=[],a=(n("28a5"),n("02fa")),s=n.n(a),c=n("2f62"),i={name:"GenresShow",data:function(){return{loading:!1,count:1,columns:[{name:"name",align:"center",label:"Name",field:"name",sortable:!0},{name:"cover",label:"Image",field:"cover"},{name:"actions",label:"Actions",field:"action"}],genres:[]}},computed:s()({},Object(c["c"])(["getToken","getLangPr","mobileDetect","getThumbStyle"])),beforeMount:function(){var e=this;this.$axios.get(this.getDomain+this.getLangPr.split("-")[0]+"/genres").then(function(t){e.genres=t.data})},mounted:function(){var e=this;this.$store.subscribe(function(t,n){switch(t.type){case"CHANGE_LANG":setTimeout(function(){e.$axios.get(e.domains+e.$t("lang_code")+"/genres").then(function(t){e.genres=t.data})},100);break}})},methods:{deleteGenres:function(e){var t=this;this.$q.dialog({title:"Подтвердите",message:"Вы точно хотите удалить?",cancel:!0,persistent:!0}).onOk(function(){t.$axios.defaults.headers={"x-api-key":"18f057d42feadf59b4943b7fb4c064fcd626778f","x-session-token":t.getToken},t.$axios.delete(t.domains+t.$t("lang_code")+"/genres/"+e).then(function(){t.genres.forEach(function(n,r){if(n.id===e)return t.genres.splice(r,1)}),t.$q.notify({color:"teal",icon:"check_circle",message:"Deleted",position:"top",timeout:200})})})},view:function(e){this.$router.push("/admin/genres/subgenres/show/"+e)}}},l=i,u=n("2877"),d=Object(u["a"])(l,r,o,!1,null,"3213dcdc",null);t["default"]=d.exports},"268f":function(e,t,n){e.exports=n("fde4")},"32a6":function(e,t,n){var r=n("241e"),o=n("c3a1");n("ce7e")("keys",function(){return function(e){return o(r(e))}})},"454f":function(e,t,n){n("46a7");var r=n("584a").Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},"46a7":function(e,t,n){var r=n("63b6");r(r.S+r.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"85f2":function(e,t,n){e.exports=n("454f")},"8aae":function(e,t,n){n("32a6"),e.exports=n("584a").Object.keys},a4bb:function(e,t,n){e.exports=n("8aae")},bf90:function(e,t,n){var r=n("36c3"),o=n("bf0b").f;n("ce7e")("getOwnPropertyDescriptor",function(){return function(e,t){return o(r(e),t)}})},c47a:function(e,t,n){var r=n("85f2");function o(e,t,n){return t in e?r(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=o},ce7e:function(e,t,n){var r=n("63b6"),o=n("584a"),a=n("294c");e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],s={};s[e]=t(n),r(r.S+r.F*a(function(){n(1)}),"Object",s)}},e265:function(e,t,n){e.exports=n("ed33")},ed33:function(e,t,n){n("014b"),e.exports=n("584a").Object.getOwnPropertySymbols},fde4:function(e,t,n){n("bf90");var r=n("584a").Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}}}]);
