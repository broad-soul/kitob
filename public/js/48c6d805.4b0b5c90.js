(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["48c6d805"],{"02fa":function(t,e,o){var n=o("268f"),a=o("e265"),r=o("a4bb"),i=o("c47a");function s(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},s=r(o);"function"===typeof a&&(s=s.concat(a(o).filter(function(t){return n(o,t).enumerable}))),s.forEach(function(e){i(t,e,o[e])})}return t}t.exports=s},"268f":function(t,e,o){t.exports=o("fde4")},"32a6":function(t,e,o){var n=o("241e"),a=o("c3a1");o("ce7e")("keys",function(){return function(t){return a(n(t))}})},"454f":function(t,e,o){o("46a7");var n=o("584a").Object;t.exports=function(t,e,o){return n.defineProperty(t,e,o)}},"46a7":function(t,e,o){var n=o("63b6");n(n.S+n.F*!o("8e60"),"Object",{defineProperty:o("d9f6").f})},6918:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-scroll-area",{staticStyle:{height:"calc(100vh - 56px)"},attrs:{"thumb-style":t.getThumbStyle}},[o("q-page",{staticClass:"admin__page__books"},[o("div",{staticClass:"q-pa-md"},[o("q-breadcrumbs",{attrs:{"active-color":"teal"}},[o("q-breadcrumbs-el",{attrs:{icon:"home",label:"Home",to:"/"}}),o("q-breadcrumbs-el",{attrs:{label:"Dashboard",to:"/admin"}}),o("q-breadcrumbs-el",{attrs:{label:"Books"}})],1)],1),o("div",{staticClass:"q-pa-md q-gutter-y-md"},[o("q-btn",{attrs:{color:"secondary",to:"/admin/books/create"}},[t._v("Add Book")]),o("q-card",[o("q-table",{staticClass:"admin__page__books-table",attrs:{data:t.books,columns:t.columns,"row-key":"id",bordered:"",loading:t.loading,title:"Books"},scopedSlots:t._u([{key:"body",fn:function(e){return o("q-tr",{attrs:{id:e.id,props:e}},[o("q-td",{key:"name",attrs:{props:e}},[t._v(t._s(e.row.name))]),o("q-td",{key:"cover",attrs:{props:e}},[o("q-img",{staticStyle:{height:"60px","max-width":"100px"},attrs:{ratio:16/9,src:e.row.cover,"placeholder-src":"/statics/photo2.png"}})],1),o("q-td",{key:"actions",attrs:{props:e}},[o("q-btn",{staticClass:"ml-auto",attrs:{size:"12px",dense:"",round:"",flat:"",color:"info"},on:{click:function(o){return t.view(e.row.id)}}},[o("q-icon",{attrs:{name:"remove_red_eye"}}),o("q-tooltip",[t._v("Views")])],1),o("q-btn",{staticClass:"mx-2",attrs:{size:"12px",dense:"",round:"",flat:"",color:"warning",to:"/admin/books/edit/"+e.row.id}},[o("q-icon",{attrs:{name:"edit"}}),o("q-tooltip",[t._v("Edit")])],1),o("q-btn",{attrs:{size:"12px",dense:"",round:"",flat:"",color:"negative"},on:{click:function(o){return t.deleteBook(e.row.id)}}},[o("q-icon",{attrs:{name:"delete_forever"}}),o("q-tooltip",[t._v("Delete")])],1)],1)],1)}}])})],1)],1)])],1)},a=[],r=(o("28a5"),o("02fa")),i=o.n(r),s=o("2f62"),c={name:"BooksShow",data:function(){return{loading:!1,count:1,columns:[{name:"name",align:"center",label:"Name",field:"name",sortable:!0},{name:"cover",label:"Image",field:"cover"},{name:"actions",label:"Actions",field:"action"}],books:[]}},computed:i()({},Object(s["c"])(["getToken","getLangPr","mobileDetect","getThumbStyle"])),beforeMount:function(){var t=this;this.$axios.get(this.getDomain+this.getLangPr.split("-")[0]+"/books").then(function(e){t.books=e.data})},mounted:function(){var t=this;this.$store.subscribe(function(e,o){switch(e.type){case"CHANGE_LANG":setTimeout(function(){t.$axios.get(t.domains+t.$t("lang_code")+"/books").then(function(e){t.books=e.data})},100);break}})},methods:{deleteBook:function(t){var e=this;this.$q.dialog({title:"Подтвердите",message:"Вы точно хотите удалить?",cancel:!0,persistent:!0}).onOk(function(){e.$axios.defaults.headers={"x-api-key":"18f057d42feadf59b4943b7fb4c064fcd626778f","x-session-token":e.getToken},e.$axios.delete(e.domains+e.$t("lang_code")+"/books/"+t).then(function(){e.books.forEach(function(o,n){if(o.id===t)return e.books.splice(n,1)}),e.$q.notify({color:"teal",icon:"check_circle",message:"Deleted",position:"top",timeout:200})})})},view:function(t){this.$router.push("/books/show/"+t)}}},l=c,u=o("2877"),f=Object(u["a"])(l,n,a,!1,null,"964a6410",null);e["default"]=f.exports},"85f2":function(t,e,o){t.exports=o("454f")},"8aae":function(t,e,o){o("32a6"),t.exports=o("584a").Object.keys},a4bb:function(t,e,o){t.exports=o("8aae")},bf90:function(t,e,o){var n=o("36c3"),a=o("bf0b").f;o("ce7e")("getOwnPropertyDescriptor",function(){return function(t,e){return a(n(t),e)}})},c47a:function(t,e,o){var n=o("85f2");function a(t,e,o){return e in t?n(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}t.exports=a},ce7e:function(t,e,o){var n=o("63b6"),a=o("584a"),r=o("294c");t.exports=function(t,e){var o=(a.Object||{})[t]||Object[t],i={};i[t]=e(o),n(n.S+n.F*r(function(){o(1)}),"Object",i)}},e265:function(t,e,o){t.exports=o("ed33")},ed33:function(t,e,o){o("014b"),t.exports=o("584a").Object.getOwnPropertySymbols},fde4:function(t,e,o){o("bf90");var n=o("584a").Object;t.exports=function(t,e){return n.getOwnPropertyDescriptor(t,e)}}}]);
