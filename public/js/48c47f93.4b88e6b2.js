(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["48c47f93"],{"02fa":function(e,t,n){var a=n("268f"),r=n("e265"),s=n("a4bb"),i=n("c47a");function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},l=s(n);"function"===typeof r&&(l=l.concat(r(n).filter(function(e){return a(n,e).enumerable}))),l.forEach(function(t){i(e,t,n[t])})}return e}e.exports=l},"141f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-scroll-area",{staticStyle:{height:"calc(100vh - 56px)"},attrs:{"thumb-style":e.getThumbStyle}},[n("q-page",{staticClass:"admin__main"},[n("div",{staticClass:"q-pa-md"},[n("q-breadcrumbs",{attrs:{"active-color":"teal"}},[n("q-breadcrumbs-el",{attrs:{icon:"home",label:"Home",to:"/"}}),n("q-breadcrumbs-el",{attrs:{label:"Dashboard",to:"/admin"}}),n("q-breadcrumbs-el",{attrs:{label:"Genres",to:"/admin/genres"}}),n("q-breadcrumbs-el",{attrs:{label:"Subgenres"}}),n("q-breadcrumbs-el",{attrs:{label:"Create"}})],1)],1),n("div",{staticClass:"q-pa-md q-gutter-y-md"},[n("q-card",{staticClass:"q-pa-md q-gutter-y-md"},[n("q-form",{ref:"form",staticClass:"q-gutter-y-md",on:{submit:e.create}},[n("q-select",{attrs:{color:"teal","option-value":"id",filled:"",options:e.genres,label:"Genre","option-label":"name","options-selected-class":"text-teal"},model:{value:e.genre,callback:function(t){e.genre=t},expression:"genre"}}),n("q-tabs",{staticClass:"text-grey",attrs:{dense:"","active-color":"teal",align:"justify","narrow-indicator":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("q-tab",{attrs:{name:"lang-en",label:"En"}}),n("q-tab",{attrs:{name:"lang-ru",label:"Ru"}}),n("q-tab",{attrs:{name:"lang-uz",label:"Uz"}})],1),n("q-separator"),n("q-tab-panels",{attrs:{animated:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("q-tab-panel",{staticClass:"p-0",attrs:{name:"lang-en"}},[n("q-input",{attrs:{color:"teal",filled:"",label:"Name",type:"text",clearable:"","lazy-rules":"",disable:e.loading,rules:[function(t){return!!t||e.$t("required_fields")}]},model:{value:e.subgenre.name_en,callback:function(t){e.$set(e.subgenre,"name_en","string"===typeof t?t.trim():t)},expression:"subgenre.name_en"}}),n("q-input",{attrs:{color:"teal",filled:"",label:"Description",type:"textarea",clearable:"","lazy-rules":"",disable:e.loading,rules:[function(t){return!!t||e.$t("required_fields")}]},model:{value:e.subgenre.description_en,callback:function(t){e.$set(e.subgenre,"description_en","string"===typeof t?t.trim():t)},expression:"subgenre.description_en"}})],1),n("q-tab-panel",{staticClass:"p-0",attrs:{name:"lang-ru"}},[n("q-input",{attrs:{color:"teal",filled:"",label:"Название",type:"text",clearable:"","lazy-rules":"",disable:e.loading,rules:[function(t){return!!t||e.$t("required_fields")}]},model:{value:e.subgenre.name_ru,callback:function(t){e.$set(e.subgenre,"name_ru","string"===typeof t?t.trim():t)},expression:"subgenre.name_ru"}}),n("q-input",{attrs:{color:"teal",filled:"",label:"Описание",type:"textarea",clearable:"","lazy-rules":"",disable:e.loading,rules:[function(t){return!!t||e.$t("required_fields")}]},model:{value:e.subgenre.description_ru,callback:function(t){e.$set(e.subgenre,"description_ru","string"===typeof t?t.trim():t)},expression:"subgenre.description_ru"}})],1),n("q-tab-panel",{staticClass:"p-0",attrs:{name:"lang-uz"}},[n("q-input",{attrs:{color:"teal",filled:"",label:"Nomi",type:"text",clearable:"","lazy-rules":"",disable:e.loading,rules:[function(t){return!!t||e.$t("required_fields")}]},model:{value:e.subgenre.name_uz,callback:function(t){e.$set(e.subgenre,"name_uz","string"===typeof t?t.trim():t)},expression:"subgenre.name_uz"}}),n("q-input",{attrs:{color:"teal",filled:"",label:"Tavsifi",type:"textarea",clearable:"","lazy-rules":"",disable:e.loading,rules:[function(t){return!!t||e.$t("required_fields")}]},model:{value:e.subgenre.description_uz,callback:function(t){e.$set(e.subgenre,"description_uz","string"===typeof t?t.trim():t)},expression:"subgenre.description_uz"}})],1)],1),n("q-btn",{attrs:{color:"teal mr-3",type:"submit",loading:e.loading,disable:e.loading}},[e._v("Create")]),n("q-btn",{attrs:{disable:e.loading,to:"/admin/genres"}},[e._v("Cancel")])],1)],1)],1)])],1)},r=[],s=(n("551c"),n("06db"),n("097d"),n("28a5"),n("02fa")),i=n.n(s),l=n("2f62"),o={name:"SubgenresCreate",data:function(){return{tab:"lang-en",loading:!1,genre:"",genres:[],subgenre:{name_en:"",name_ru:"",name_uz:"",description_en:"",description_ru:"",description_uz:""}}},computed:i()({},Object(l["c"])(["getLangPr","getToken","mobileDetect","getThumbStyle"])),watch:{},beforeMount:function(){var e=this;this.$axios.get(this.getDomain+this.getLangPr.split("-")[0]+"/genres").then(function(t){e.genres=t.data})},mounted:function(){var e=this;this.$store.subscribe(function(t,n){switch(t.type){case"CHANGE_LANG":setTimeout(function(){e.$axios.get(e.domains+e.getLangPr.split("-")[0]+"/genres").then(function(t){e.genres=t.data})},100);break}})},methods:{create:function(){var e=this;this.$axios.defaults.headers={"x-api-key":"18f057d42feadf59b4943b7fb4c064fcd626778f","x-session-token":this.getToken},this.loading=!0;var t=new FormData;t.append("genres[parent]",this.genre.id),t.append("genres[name_en]",this.subgenre.name_en),t.append("genres[name_ru]",this.subgenre.name_ru),t.append("genres[name_uz]",this.subgenre.name_uz),t.append("genres[description_en]",this.subgenre.description_en),t.append("genres[description_ru]",this.subgenre.description_ru),t.append("genres[description_uz]",this.subgenre.description_uz),this.$axios.post(this.getDomain+this.$t("lang_code")+"/genres",t).then(function(){e.$q.notify({color:"teal",icon:"check_circle",message:"Event created",position:"top",timeout:200}),e.$router.push("/admin/genres")}).finally(function(){e.loading=!1})}}},u=o,c=n("2877"),b=Object(c["a"])(u,a,r,!1,null,null,null);t["default"]=b.exports},"268f":function(e,t,n){e.exports=n("fde4")},"32a6":function(e,t,n){var a=n("241e"),r=n("c3a1");n("ce7e")("keys",function(){return function(e){return r(a(e))}})},"454f":function(e,t,n){n("46a7");var a=n("584a").Object;e.exports=function(e,t,n){return a.defineProperty(e,t,n)}},"46a7":function(e,t,n){var a=n("63b6");a(a.S+a.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"85f2":function(e,t,n){e.exports=n("454f")},"8aae":function(e,t,n){n("32a6"),e.exports=n("584a").Object.keys},a4bb:function(e,t,n){e.exports=n("8aae")},bf90:function(e,t,n){var a=n("36c3"),r=n("bf0b").f;n("ce7e")("getOwnPropertyDescriptor",function(){return function(e,t){return r(a(e),t)}})},c47a:function(e,t,n){var a=n("85f2");function r(e,t,n){return t in e?a(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=r},ce7e:function(e,t,n){var a=n("63b6"),r=n("584a"),s=n("294c");e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],i={};i[e]=t(n),a(a.S+a.F*s(function(){n(1)}),"Object",i)}},e265:function(e,t,n){e.exports=n("ed33")},ed33:function(e,t,n){n("014b"),e.exports=n("584a").Object.getOwnPropertySymbols},fde4:function(e,t,n){n("bf90");var a=n("584a").Object;e.exports=function(e,t){return a.getOwnPropertyDescriptor(e,t)}}}]);
